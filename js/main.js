var html=document.getElementsByTagName("html")[0],mask=document.getElementById("mask");function add_code_block(){document.querySelectorAll("figure.highlight").forEach(function(e){var t="plaintext"==(t=e.classList[1])?"code":t;e.insertAdjacentHTML("afterBegin",`<div class="code_block" lang="${t}">
            <span class="clipboard"><i class="fa fa-clipboard"></i></span>
        </div>`)})}function table_wrap(){document.querySelectorAll(".post_content>table,.content>table").forEach(function(e){wrap(e,"div",null,"table_wrap")})}function code_block_expand(){if($config.code_block_expand&&$config.code_block_expand.enable){for(var e=document.querySelectorAll("figure.highlight"),l=$config.code_block_expand.height,t=0;t<e.length;t++)e[t].clientHeight>l&&(e[t].style="max-height: "+l+"px",e[t].insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="fas fa-angle-down"></i></div>'));document.querySelectorAll(".show-btn").forEach(function(n){n.onclick=function(){var e,t,o=n.childNodes[0];"fas fa-angle-down"==o.className?(o.classList.remove("fa-angle-down"),o.classList.add("fa-angle-up"),n.parentNode.style="",n.previousElementSibling.style="margin-bottom: 20px"):(o.classList.remove("fa-angle-up"),o.classList.add("fa-angle-down"),n.parentNode.style="max-height: "+l+"px",n.previousElementSibling.style="",scrollTop=document.documentElement.scrollTop||document.body.scrollTop,e=n.getBoundingClientRect().bottom+scrollTop,t=$config.code_block_expand.height,o=$config.code_block_expand.scrollTop,window.scrollTo(0,e-t-o))}})}}function open_mobile(){var e=document.getElementById("mobile_nav");document.getElementsByClassName("open_nav")[0].onclick=function(){e.classList.contains("open_mobile")||(e.className="open_mobile",mask.className="mask")}}function show_toc(){var e=document.getElementById("open_toc"),t=document.getElementById("toc");t&&(e.onclick=function(){t.classList.contains("open_toc")?t.classList.remove("open_toc"):(t.classList.add("open_toc"),mask.className="mask")})}function rightside_show(){var e=document.getElementById("settings");e&&(e.onclick=function(){var e=document.getElementsByClassName("rightside_btn")[0];e.classList.contains("rightside_show")?e.classList.remove("rightside_show"):e.classList.add("rightside_show")})}function close_all(){var e=document.getElementById("local_search");e&&(e.classList.remove("search_animation_max"),e.classList.add("search_animation_min"),setTimeout(function(){e.style.display=""},500)),html.style.overflow="auto";var t=document.querySelector(".open_toc");t&&t.classList.remove("open_toc"),mobile_nav.classList.remove("open_mobile"),mobile_nav.style.opacity="",mask.className=""}function DarkMode(){var e,t,o;document.getElementById("darkmode")&&(e=document.getElementsByTagName("body")[0],t=document.getElementById("darkmode"),o=document.querySelector("#darkmode i"),localStorage.isDark?(html.setAttribute("data-theme","dark"),o.classList.remove("fa-moon"),o.classList.add("fa-sun")):(html.removeAttribute("data-theme"),o.classList.remove("fa-sun"),o.classList.add("fa-moon")),t.onclick=function(){"fa-moon"==o.classList[1]?(localStorage.isDark="dark",e.style="transition: all .3s linear",html.setAttribute("data-theme","dark"),o.classList.remove("fa-moon"),o.classList.add("fa-sun")):(localStorage.isDark="",e.style="transition: all .3s linear",html.removeAttribute("data-theme"),o.classList.remove("fa-sun"),o.classList.add("fa-moon"))})}function scroll(){var a=0;window.addEventListener("scroll",function(){var e=document.documentElement.clientHeight,t=window.scrollY||document.documentElement.scrollTop,o=document.querySelector(".navbar");a=(a<t?(o.style.opacity=0,o.style.transform="translateY(-60px)"):(o.style.opacity=1,o.style.transform=""),t);var n=document.querySelector(".post_content"),l=document.querySelector(".num");n&&l&&(o=n.offsetTop,e=e<(n=n.clientHeight)?n-e:document.documentElement.scrollHeight-e,e=Math.round(100*((t-o)/e)),l.innerText=(e=100<e?100:e<=0?0:e)+"%",document.querySelector(".progress").value=e)})}function code_copy(){document.querySelectorAll("figure.highlight").forEach(function(t){var o=t.firstChild.childNodes[1];o.onclick=function(){var e=window.getSelection();e.selectAllChildren(t.querySelector(".code")),document.execCommand("copy"),e.removeAllRanges(),o.innerHTML="<i class='fa fa-check' style='color:green'></i>",setTimeout(function(){o.innerHTML="<i class='fa fa-clipboard'></i>"},2e3)}})}function exe_all_fn(){add_code_block(),table_wrap(),code_block_expand(),open_mobile(),show_toc(),rightside_show(),close_all(),DarkMode(),scroll(),code_copy()}exe_all_fn();